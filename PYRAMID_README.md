# 三棱锥体积计算程序

一个简洁实用的三棱锥体积计算程序，用户输入底面积和高度，程序自动计算并显示体积。

## 功能特点

- ✅ 交互式命令行界面
- ✅ 准确的体积计算 (V = 1/3 × S × h)
- ✅ 完善的输入验证
- ✅ 异常处理机制
- ✅ 支持循环计算
- ✅ 格式化输出（保留两位小数）

## 项目结构

```
src/main/java/com/square/
├── Pyramid.java                  # 三棱锥实体类
└── PyramidVolumeCalculator.java  # 主程序类（交互式界面）

脚本文件：
├── run_pyramid.sh                # 编译并运行程序
├── demo_pyramid.sh               # 自动演示（使用预设输入）
├── test_pyramid.sh               # 自动化测试脚本
└── verify_pyramid.sh             # 代码验证脚本（无需Java环境）
```

## 快速开始

### 1. 验证代码结构（无需Java环境）

```bash
bash verify_pyramid.sh
```

该脚本会检查：
- 文件完整性
- 代码统计
- 关键方法实现
- 异常处理
- 计算公式正确性
- 文档注释

### 2. 运行程序

```bash
bash run_pyramid.sh
```

或者使用已有的脚本：

```bash
./run_pyramid.sh
```

### 3. 自动演示

运行预设的演示场景：

```bash
bash demo_pyramid.sh
```

演示会自动计算三个示例：
- 底面积=12.0, 高度=5.0
- 底面积=20.0, 高度=8.0
- 底面积=15.5, 高度=10.3

## 使用示例

### 正常计算

```
=================================
   三棱锥体积计算程序
=================================

请输入底面积 (S): 12.0
请输入高度 (h): 5.0

--- 计算结果 ---
底面积: 12.00
高度: 5.00
体积: 20.00
----------------

是否继续计算? (y/n): n

感谢使用三棱锥体积计算程序!
```

### 异常处理示例

**输入负数：**
```
请输入底面积 (S): -5.0
请输入高度 (h): 10.0
错误: 底面积必须大于0
```

**输入零值：**
```
请输入底面积 (S): 0
请输入高度 (h): 5.0
错误: 底面积必须大于0
```

**输入非数字：**
```
请输入底面积 (S): abc
输入错误，请输入有效的数字!
```

## 类说明

### Pyramid 类

三棱锥实体类，封装三棱锥的属性和计算逻辑。

**属性：**
- `baseArea` (double): 底面积
- `height` (double): 高度

**方法：**
- `Pyramid(baseArea, height)`: 构造方法，创建三棱锥对象
- `getBaseArea()`: 获取底面积
- `setBaseArea(baseArea)`: 设置底面积（带验证）
- `getHeight()`: 获取高度
- `setHeight(height)`: 设置高度（带验证）
- `calculateVolume()`: 计算体积
- `toString()`: 返回格式化字符串

**计算公式：**
```
体积 = (1/3) × 底面积 × 高度
```

### PyramidVolumeCalculator 类

主程序类，提供交互式命令行界面。

**方法：**
- `main(String[] args)`: 程序入口
- `calculateVolume(baseArea, height)`: 静态方法，快速计算体积
- `demonstrateExamples()`: 演示计算示例

## 参数验证

程序对输入参数进行严格验证：

| 验证项 | 规则 | 异常类型 |
|--------|------|----------|
| 底面积 | 必须 > 0 | IllegalArgumentException |
| 高度 | 必须 > 0 | IllegalArgumentException |
| 输入格式 | 必须是有效数字 | InputMismatchException |

## 系统要求

- **Java版本**: JDK 8 或更高版本
- **操作系统**: Linux, macOS, Windows
- **编码**: UTF-8

## 代码特点

1. **遵循 Java 命名规范**：使用驼峰命名法
2. **完整的 JavaDoc 注释**：每个类和方法都有详细说明
3. **参数校验**：所有 public 方法都进行参数验证
4. **异常处理**：完善的异常捕获和提示
5. **用户友好**：清晰的提示信息和格式化输出

## 测试

运行自动化测试脚本（需要Java环境）：

```bash
bash test_pyramid.sh
```

测试场景包括：
- 正常输入测试
- 边界值测试
- 异常输入测试（负数、零值）
- 非数字输入测试

## 开发参考

本程序参考了项目中 `Cone` 类的设计风格：
- 简洁的属性封装
- 清晰的参数验证
- 友好的交互界面
- 完善的异常处理

## 许可证

本项目采用与主项目相同的许可证。

## 作者

开发时间：2025-10

---

**注意**：如果在运行脚本时遇到权限问题，请使用 `bash script_name.sh` 命令运行，或者使用 `chmod +x script_name.sh` 添加执行权限。
